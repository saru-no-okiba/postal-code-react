(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{260:()=>{},3792:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var t=s(5155),l=s(2115),n=s(3464),i=s(1597),r=s.n(i);function c(){let e=(0,l.useRef)("/json/prefecturesCode.json"),a=(0,l.useRef)("/json/data.json"),[s,i]=(0,l.useState)([]),[c,d]=(0,l.useState)([]),[o,h]=(0,l.useState)(500),[u,p]=(0,l.useState)(0),[x,g]=(0,l.useState)(""),[j,m]=(0,l.useState)(""),[v,C]=(0,l.useState)(!1),[f,N]=(0,l.useState)(!1),b=(0,l.useCallback)(async()=>{try{let s=await n.A.get(a.current),t=await n.A.get(e.current),l=s.data,r=t.data,c=Object.fromEntries(r.map(e=>[e.prefecturesCode,e])),o=l.map(e=>({...e,...c[e.prefecturesCode]||{}}));i(o),d(o)}catch(e){console.error("データの読み込みに失敗しました",e)}},[]);(0,l.useEffect)(()=>{b()},[b]);let y=e=>{p(e.selected)},S=(0,l.useMemo)(()=>{let e=u*o,a=e+o;return c.slice(e,a)},[c,u,o]),k=(0,l.useMemo)(()=>Math.ceil(c.length/o),[c,o]),w=(0,l.useMemo)(()=>u*o+1,[u,o]),E=(0,l.useMemo)(()=>w+S.length-1,[w,S]),L=e=>e.normalize("NFKC").replace(/[\u3041-\u3096]/g,e=>String.fromCharCode(e.charCodeAt(0)+96)).toLowerCase(),P=e=>e?"object"==typeof e&&null!==e?Object.values(e).map(P).join(" "):L(String(e)):"",_=()=>{m(""),C(!1);let e=(x.trim()||"").split(" ").filter(Boolean).map(L);if(e.length>0){let a=s.filter(a=>{let s=P(a);return e.every(e=>s.includes(e))});d(a),a.length,0===a.length?(m("該当データがありません"),C(!0)):p(0)}else m("キーワードを入力してください"),0===c.length&&d(s)},D=()=>{g(""),m(""),d(s),h(500),p(0),C(!1)};return(0,l.useEffect)(()=>{o>c.length?N(!0):N(!1)},[o,c]),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{id:"search-area",children:(0,t.jsxs)("div",{className:"container",id:"search-box",children:[(0,t.jsx)("input",{type:"text",value:x,onChange:e=>g(e.target.value),onKeyDown:e=>{"Enter"===e.key&&_()},placeholder:"検索"}),(0,t.jsx)("button",{style:{display:x?"block":"none"},onClick:()=>{g(""),m(""),v&&D()},id:"kw-clear",children:(0,t.jsx)("img",{src:"/images/ico-clear.png",alt:""})}),(0,t.jsx)("button",{onClick:_,id:"search-btn",children:"検索"})]})}),(0,t.jsx)("div",{id:"msg-area",children:(0,t.jsx)("span",{children:j})}),(0,t.jsxs)("div",{className:"container",id:"list",style:{display:v?"none":"block"},children:[(0,t.jsxs)("div",{id:"head",children:[(0,t.jsxs)("div",{id:"control-wrap",children:[(0,t.jsxs)("div",{id:"select-count",children:[(0,t.jsx)("select",{value:o,onChange:e=>{h(Number(e.target.value)),p(0)},"aria-label":"件数表示",children:[{val:200,txt:"200"},{val:500,txt:"500"},{val:1e3,txt:"1000"},{val:1500,txt:"1500"}].map(e=>(0,t.jsx)("option",{value:e.val,children:e.txt},e.val))}),"件表示",(0,t.jsxs)("span",{children:["（全",s.length.toLocaleString()," 件）"]})]}),(0,t.jsxs)("div",{className:"count-display",children:[c.length.toLocaleString(),(0,t.jsx)("span",{children:"件中"}),w," ～ ",E," 件"]})]}),(0,t.jsx)("div",{className:"pager",children:!f&&(0,t.jsx)(r(),{forcePage:u,pageCount:k,pageRangeDisplayed:3,marginPagesDisplayed:1,onPageChange:y,previousLabel:"<",nextLabel:">",containerClassName:"pagination",pageClassName:"page-item",previousClassName:"pre",nextClassName:"next",activeClassName:"active"})})]}),(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"No"}),(0,t.jsx)("th",{children:"郵便番号"}),(0,t.jsx)("th",{children:"都道府県"}),(0,t.jsx)("th",{children:"市区"}),(0,t.jsx)("th",{children:"町名"})]})}),(0,t.jsx)("tbody",{children:S.map((e,a)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:a+1+u*o}),(0,t.jsx)("td",{children:e.postalCode}),(0,t.jsx)("td",{children:e.prefectures}),(0,t.jsxs)("td",{children:[e.municipality,(0,t.jsx)("span",{className:"yomi",children:e.municipalityYomi})]}),(0,t.jsxs)("td",{children:[e.town,(0,t.jsx)("span",{className:"yomi",children:e.townYomi})]})]},a))})]}),(0,t.jsx)("div",{id:"foot",children:(0,t.jsx)("div",{className:"pager",children:!f&&(0,t.jsx)(r(),{forcePage:u,pageCount:k,pageRangeDisplayed:3,marginPagesDisplayed:1,onPageChange:y,previousLabel:"<",nextLabel:">",containerClassName:"pagination",pageClassName:"page-item",previousClassName:"pre",nextClassName:"next",activeClassName:"active"})})})]})]})}s(260)},6315:(e,a,s)=>{Promise.resolve().then(s.bind(s,3792))}},e=>{var a=a=>e(e.s=a);e.O(0,[781,948,441,684,358],()=>a(6315)),_N_E=e.O()}]);